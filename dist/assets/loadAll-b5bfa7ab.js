import{h as s,b as c}from"./asyncUtils-437defc4.js";import{j as m}from"./Collection-910b6f71.js";import{m as e}from"./Loadable-268c900a.js";import{t as u}from"./typedArrayUtil-4d7bb04c.js";async function $(o,n){return await o.load(),d(o,n)}async function d(o,n){const l=[],i=(...a)=>{for(const r of a)u(r)||(Array.isArray(r)?i(...r):m.isCollection(r)?r.forEach(f=>i(f)):e.isLoadable(r)&&l.push(r))};n(i);let t=null;if(await s(l,async a=>{(await c(p(a)?a.loadAll():a.load())).ok!==!1||t||(t=a)}),t)throw t.loadError;return o}function p(o){return"loadAll"in o&&typeof o.loadAll=="function"}export{d as i,$ as n};
