import{r as a,t as l}from"./typedArrayUtil-4d7bb04c.js";import{M as n}from"./Extent-da876e26.js";import{ai as m}from"./index-a2d9f93b.js";function p(r){const o=r.view.spatialReference,e=r.layer.fullExtent,t=a(e)&&e.spatialReference;if(l(e)||!t)return Promise.resolve(null);if(t.equals(o))return Promise.resolve(e.clone());const s=n(e,o);return a(s)?Promise.resolve(s):r.view.state.isLocal?m(e,o,r.layer.portalItem).then(i=>!r.destroyed&&i?i:void 0).catch(()=>null):Promise.resolve(null)}export{p as l};
