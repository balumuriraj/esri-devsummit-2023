import{c as R,h as O,q}from"./index-9a6385f7.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.7
 */const E="hidden-form-input";function L(e){return"checked"in e}const v=new WeakMap,g=new WeakSet;function x(e,t){const n="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(n,a=>{s=a.composedPath().some(c=>g.has(c)),a.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),s}function j(e){const{formEl:t}=e;return t?("requestSubmit"in t?t.requestSubmit():t.submit(),!0):!1}function z(e){var t;(t=e.formEl)==null||t.reset()}function G(e){const{el:t,value:n}=e,s=R(t,"form");if(!s||x(s,t))return;e.formEl=s,e.defaultValue=n,L(e)&&(e.defaultChecked=e.checked);const a=(e.onFormReset||D).bind(e);s.addEventListener("reset",a),v.set(e.el,a),g.add(t)}function D(){if(L(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function J(e){const{el:t,formEl:n}=e;if(!n)return;const s=v.get(t);n.removeEventListener("reset",s),v.delete(t),e.formEl=null,g.delete(t)}const y=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},I=e=>e.removeEventListener("change",y);function P(e){const{el:t,formEl:n,name:s,value:a}=e,{ownerDocument:c}=t,r=t.querySelectorAll(`input[slot="${E}"]`);if(!n||!s){r.forEach(i=>{I(i),i.remove()});return}const l=Array.isArray(a)?a:[a],m=[],F=new Set;r.forEach(i=>{const d=l.find(H=>H==i.value);d!=null?(F.add(d),w(e,i,d)):m.push(i)});let u;l.forEach(i=>{if(F.has(i))return;let d=m.pop();d||(d=c.createElement("input"),d.slot=E),u||(u=c.createDocumentFragment()),u.append(d),d.addEventListener("change",y),w(e,d,i)}),u&&t.append(u),m.forEach(i=>{I(i),i.remove()})}function w(e,t,n){var l;const{defaultValue:s,disabled:a,name:c,required:r}=e;t.defaultValue=s,t.disabled=a,t.name=c,t.required=r,t.tabIndex=-1,L(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||"on":""):t.value=n||"",(l=e.syncHiddenFormInput)==null||l.call(e,t)}const K=({component:e})=>(P(e),O("slot",{name:E}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.7
 */const M="calciteInternalLabelClick",k="calciteInternalLabelConnected",C="calciteInternaLabelDisconnected",S="calcite-label",b=new WeakMap,f=new WeakMap,h=new WeakMap,o=new Set,A=e=>{const{id:t}=e,n=t&&q(e,{selector:`${S}[for="${t}"]`});if(n)return n;const s=R(e,S);return!s||W(s,e)?null:s};function W(e,t){let n;const s="custom-element-ancestor-check",a=r=>{r.stopImmediatePropagation();const l=r.composedPath();n=l.slice(l.indexOf(t),l.indexOf(e))};return e.addEventListener(s,a,{once:!0}),t.dispatchEvent(new CustomEvent(s,{composed:!0,bubbles:!0})),e.removeEventListener(s,a),n.filter(r=>r!==t&&r!==e).filter(r=>{var l;return(l=r.tagName)==null?void 0:l.includes("-")}).length>0}function N(e){const t=A(e.el);if(b.has(t)||!t&&o.has(e))return;const n=$.bind(e);if(t){e.labelEl=t;const s=V.bind(e);b.set(e.labelEl,s),e.labelEl.addEventListener(M,s),o.delete(e),document.removeEventListener(k,f.get(e)),h.set(e,n),document.addEventListener(C,n)}else o.has(e)||(n(),document.removeEventListener(C,h.get(e)))}function Q(e){if(o.delete(e),document.removeEventListener(k,f.get(e)),document.removeEventListener(C,h.get(e)),f.delete(e),h.delete(e),!e.labelEl)return;const t=b.get(e.labelEl);e.labelEl.removeEventListener(M,t),b.delete(e.labelEl)}function U(e){var t,n;return e.label||((n=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:n.trim())||""}function V(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function T(){o.has(this)&&N(this)}function $(){o.add(this);const e=f.get(this)||T.bind(this);f.set(this,e),document.addEventListener(k,e)}export{K as H,G as a,J as b,N as c,Q as d,U as g,z as r,j as s};
